<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>TODO Apply Standards and make sure file name is consistent with nav - Grimwald Knowledge Base</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../style.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Grimwald Knowledge Base</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">ğŸ“š General Information</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../rules/" class="dropdown-item">ğŸ“š Rules</a>
</li>
                                    
<li>
    <a href="../roles/" class="dropdown-item">ğŸ“š Roles</a>
</li>
                                    
<li>
    <a href="../seasons/" class="dropdown-item">ğŸ“š Seasons</a>
</li>
                                    
<li>
    <a href="../events/" class="dropdown-item">ğŸ“š Events</a>
</li>
                                    
<li>
    <a href="../economy/" class="dropdown-item">ğŸ“š Economy</a>
</li>
                                    
<li>
    <a href="../donations/" class="dropdown-item">ğŸ“š Donations</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">ğŸ›¡ï¸ Moderation</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../staff-guidelines.md" class="dropdown-item">ğŸ›¡ï¸ Staff Guidelines</a>
</li>
                                    
<li>
    <a href="../rule-enforcement.md" class="dropdown-item">ğŸ›¡ï¸ Rule Enforcement</a>
</li>
                                    
<li>
    <a href="../commands.md" class="dropdown-item">ğŸ›¡ï¸ Commands and Permissions</a>
</li>
                                    
<li>
    <a href="../report.md" class="dropdown-item">ğŸ›¡ï¸ Report a Player</a>
</li>
                                    
<li>
    <a href="../ban-appeals.md" class="dropdown-item">ğŸ›¡ï¸ Ban Appeals</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">ğŸ› ï¸ Server Management</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../server-setup.md" class="dropdown-item">ğŸ› ï¸ Setting Up</a>
</li>
                                    
<li>
    <a href="../payments.md" class="dropdown-item">ğŸ› ï¸ Payments</a>
</li>
                                    
<li>
    <a href="../plugins.md" class="dropdown-item">ğŸ› ï¸ Plugins</a>
</li>
                                    
<li>
    <a href="../mods.md" class="dropdown-item">ğŸ› ï¸ Mods</a>
</li>
                                    
<li>
    <a href="../datapacks.md" class="dropdown-item">ğŸ› ï¸ Datapacks</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">ğŸŒ Website</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../update-website.md" class="dropdown-item">ğŸŒ Updating the Website</a>
</li>
                                    
<li>
    <a href="../timeline.md" class="dropdown-item">ğŸŒ Timeline</a>
</li>
                                    
<li>
    <a href="../stats.md" class="dropdown-item">ğŸŒ Stats</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">ğŸ«‚ Community</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../joining.md" class="dropdown-item">ğŸ«‚ Join Process</a>
</li>
                                    
<li>
    <a href="../advertising.md" class="dropdown-item">ğŸ«‚ Advertising</a>
</li>
                                    
<li>
    <a href="../brand-guidelines.md" class="dropdown-item">ğŸ«‚ Brand Guidelines</a>
</li>
                                    
<li>
    <a href="../feedback.md" class="dropdown-item">ğŸ«‚ Feedback and Suggestions</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">ğŸ“œ Docs</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../contributing/" class="dropdown-item">ğŸ“œ Contributing</a>
</li>
                                    
<li>
    <a href="../standards/" class="dropdown-item">ğŸ“œ Standards</a>
</li>
                                    
<li>
    <a href="../changelog/" class="dropdown-item">ğŸ“œ Changelog</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#todo-apply-standards-and-make-sure-file-name-is-consistent-with-nav" class="nav-link">TODO Apply Standards and make sure file name is consistent with nav</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#stats" class="nav-link">Stats</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#tracking-the-stats" class="nav-link">Tracking The Stats</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#extracting-the-stats-from-the-server-and-formatting-them" class="nav-link">Extracting The Stats From The Server And Formatting Them</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#extracting-stats" class="nav-link">Extracting stats</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#using-the-formatter" class="nav-link">Using the formatter</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#manual-formatting-steps" class="nav-link">Manual formatting steps</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#adding-the-stats-to-the-website" class="nav-link">Adding The Stats To The Website</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="todo-apply-standards-and-make-sure-file-name-is-consistent-with-nav">TODO Apply Standards and make sure file name is consistent with nav</h1>
<h1 id="stats">Stats</h1>
<ul>
<li>This documents aims to provide a guide for extracting formatting and updating the stats for the website.</li>
</ul>
<h1 id="tracking-the-stats">Tracking The Stats</h1>
<ul>
<li>We use 2 vanilla tweaks datapacks to track the stats, they can be found here https://vanillatweaks.net/picker/datapacks/</li>
<li>These are Track Statistics and Track Raw Statistics, they should be installed as soon as a season starts.</li>
<li>In the event these datapacks are not updated to the version the server is running on, use the latest version as long as there has been no technical changes that break the datapacks they should work but may be missing new stats due to the next version, once the packs release for this version you can safely update without losing any stats, new stats will start tracking from then.</li>
<li>In the event that the server is running an older version, try to get the correct version from vanilla tweaks.</li>
<li>Technically there are other ways to access players stats without these packs but our formatter is based around this so using other methods requires a lot of manual work or programming a new formatter so try to use these packs where possible.</li>
</ul>
<h1 id="extracting-the-stats-from-the-server-and-formatting-them">Extracting The Stats From The Server And Formatting Them</h1>
<h2 id="extracting-stats">Extracting stats</h2>
<ul>
<li>Download <code>scoreboard.dat</code> from the data folder on the server</li>
<li>Download Python if you do not already have it installed. https://www.python.org/downloads/</li>
<li>Download the stat formatter. https://github.com/JadenLabs/grimwald-stat-prep</li>
<li>Download and Install NBTExplorer. https://github.com/jaquadro/NBTExplorer/</li>
<li>Open CMD in administrator mode inside of the NBTExplorer directory</li>
<li>Enter the following command, replace PATH with the path to wherever you downloaded <code>scoreboard.dat</code> to:</li>
</ul>
<pre><code>nbtutil --path &quot;PATH\scoreboard.dat\data\PlayerScores&quot; --printtree --json &quot;main.json&quot;
</code></pre>
<ul>
<li>You should now have a main.json within your NBTExplorer Directory, move this file to the MainStats directory from the stat formatter.</li>
</ul>
<h2 id="using-the-formatter">Using the formatter</h2>
<ul>
<li>Open main.py and edit aliases if needed (If any players have switched names or accounts) the format for this is as follows <code>["NewName", ["OldName1", "OldName2", "OldName3"]]</code> or more commonly  <code>["NewName", ["OldName"]]</code> for players who have only had one name change include all the names that players have used throughout the season, There is no need to list players who have not changed their name.</li>
<li>You are now ready to run Main.py, when prompted choose to run the whole program and output for website.</li>
<li>You can find the outputted files in the output folder.</li>
</ul>
<h2 id="manual-formatting-steps">Manual formatting steps</h2>
<ul>
<li>WARNING: Currently this program does not format everything, there are some additional steps before you can add it to the website. (Note: This process may be automated in the future.)</li>
<li>Note that all converted values should be rounded to 2 decimal places.</li>
<li>Go through each file and remove all rows that contain score: 0.</li>
<li>Go through each file and remove banned players.</li>
<li>Convert playtime minutes into hours.</li>
<li>Convert distances from cm into m, You can check which stats are they are indicated by (Blocks) on the stats page (1m = 1 block)</li>
<li>Add the 2 different diamond stats together, there are 2 diamonds mined stats one for regular diamonds and one for deepslate diamonds. On the website we just display a total diamonds mined, these stats need manually combined, it is easier to modify the deepslate version as most people don't mine much regular diamond ore. Ensure once you have combined each persons stat that they are still in the correct position based on their score, you may have to move them up/down in the file to maintain the correct order. (Order is determined by position in the json, higher scores should be at the top.)</li>
</ul>
<h1 id="adding-the-stats-to-the-website">Adding The Stats To The Website</h1>
<ul>
<li>Open the stats directory in <code>public/stats</code></li>
<li>Open the <code>stats.html</code> file amd change the season number to the season you are updating the stats for on both the title element and the h1 element.</li>
<li>Open the <code>stats.js</code> file, in <code>const scoreboardData</code> there are multiple sections with different names that match the files generated from the formatter. (Which should now have had the manual formatting applied too, Note: The name of the diamond stat in this file is slightly altered to reflect the 2 diamond stats being combined)</li>
<li>You will have to manually open the each new stats file and paste it into the correct section of this file replacing the old data. (This process could be automated in the future, generating the entire js file for you) </li>
<li>Once this is done go to <code>app/components/Navbar.js</code> and change the season number for the stats button text.</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
